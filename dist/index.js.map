{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["type ObjectSortParams = DataSet | ObjectSortConfig;\ntype TypeArray<Type> = Type extends unknown ? Type[] : never;\nexport type DataObject = Record<string | number, unknown>;\nexport type DataItem = number | string | DataObject | Array<unknown>;\nexport type SortCallback = (a: DataItem, b: DataItem) => number;\nexport type DataSet = TypeArray<DataItem>;\n\ninterface ObjectSortConfig {\n  sortCallback?: SortCallback;\n  data?: DataSet;\n}\n\nclass ObjectSort {\n  #data: DataSet;\n  #sortCallback: SortCallback;\n  #config: ObjectSortParams = {\n    data: [],\n    sortCallback: this.#fnSortDefault,\n  };\n\n  #fnSortDefault(a: DataItem, b: DataItem): number {\n    const isEqual = a === b;\n\n    return isEqual ? 0 : a > b ? 1 : -1;\n  }\n\n  #sort(): void {\n    this.#data.sort(this.#sortCallback);\n  }\n\n  constructor(params: ObjectSortParams = {}) {\n    if (Array.isArray(params)) {\n      params = { data: params };\n    }\n\n    const { data, sortCallback } = { ...this.#config, ...params };\n    const isFunction = typeof sortCallback === 'function';\n\n    this.#data = data;\n\n    this.#sortCallback = isFunction ? sortCallback : this.#fnSortDefault;\n\n    if (this.#data.length) {\n      this.#sort();\n    }\n  }\n\n  addItem(item: DataItem): void {\n    const d: DataItem[] = this.#data;\n\n    d.push(item);\n    this.#sort();\n  }\n\n  editItem(index: number, item: DataItem): void {\n    this.#data[index] = item;\n    this.#sort();\n  }\n\n  removeItem(index: number): void {\n    this.#data.splice(index, 1);\n  }\n\n  get list(): DataSet {\n    return this.#data;\n  }\n}\n\nexport default ObjectSort;\n"],"names":["a","b","_sort2","_classPrivateFieldGet","sort","this","_sortCallback","constructor","params","_classPrivateMethodInitSpec","_sort","_fnSortDefault","_classPrivateFieldInitSpec","_data","writable","value","_config","data","sortCallback","_fnSortDefault2","Array","isArray","isFunction","_classPrivateFieldSet","_classPrivateMethodGet","length","call","addItem","item","push","editItem","index","removeItem","splice","list"],"mappings":"2gCAoBiBA,EAAaC,GAG1B,OAFgBD,IAAMC,EAEL,EAAID,EAAIC,EAAI,GAAK,CACnC,CAEa,SAAAC,IACZC,EAAWC,KAAAA,GAAAA,OAAKC,KAAhBC,GACD,QAhBH,MAkBEC,cAA2C,IAA/BC,yDAA2B,CAAA,EAAIC,EAAAJ,KAAAK,GAAAD,EAAAJ,KAAAM,GAAAC,EAAAP,KAAAQ,EAAA,CAAAC,UAAA,EAAAC,WAAA,IAAAH,EAAAP,KAAAC,EAAA,CAAAQ,UAAA,EAAAC,WAAA,IAAAH,EAAAP,KAAAW,EAAA,CAAAF,UAAA,EAAAC,MAff,CAC1BE,KAAM,GACNC,eAAcb,KAAFM,EAAAQ,MAcRC,MAAMC,QAAQb,KAChBA,EAAS,CAAES,KAAMT,IAGnB,MAAMS,KAAEA,EAAFC,aAAQA,GAAiB,IAAKf,EAAAE,KAALW,MAAsBR,GAC/Cc,EAAqC,mBAAjBJ,EAE1BK,EAAAlB,KAAAQ,EAAaI,GAEbM,EAAAlB,KAAAC,EAAqBgB,EAAaJ,EAAHM,EAAkBnB,KAAjDM,EAAAQ,IAEIhB,EAAAE,KAAAQ,GAAWY,QACbD,EAAAnB,KAAAK,EAAAR,GAAAwB,KAAArB,KAEH,CAEDsB,QAAQC,GACgBzB,EAAAE,KAAtBQ,GAEEgB,KAAKD,GACPJ,EAAAnB,KAAAK,EAAAR,GAAAwB,KAAArB,KACD,CAEDyB,SAASC,EAAeH,GACtBzB,EAAW4B,KAAAA,GAAAA,GAASH,EACpBJ,EAAAnB,KAAAK,EAAAR,GAAAwB,KAAArB,KACD,CAED2B,WAAWD,GACT5B,EAAAE,KAAAQ,GAAWoB,OAAOF,EAAO,EAC1B,CAEGG,WACF,OAAA/B,EAAOE,KAAPQ,EACD"}